"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[388],{388:function(n,e,t){t.r(e),t.d(e,{default:function(){return G}});var r=t(861),i=t(439),o=t(687),a=t.n(o),u=t(791),c=t(87),s=t(689);var l=t(142);function f(n,e,t){return(e=(0,l.Z)(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function d(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}function p(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?d(Object(t),!0).forEach((function(e){f(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):d(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}var v=t(433),m=function(n){return"number"==typeof n&&!isNaN(n)},h=function(n){return"string"==typeof n},g=function(n){return"function"==typeof n},y=function(n){return(0,u.isValidElement)(n)||h(n)||g(n)||m(n)};function j(n){var e=n.enter,t=n.exit,r=n.appendPosition,i=void 0!==r&&r,o=n.collapse,a=void 0===o||o,c=n.collapseDuration,s=void 0===c?300:c;return function(n){var r=n.children,o=n.position,c=n.preventExitTransition,l=n.done,f=n.nodeRef,d=n.isIn,p=n.playToast,m=i?"".concat(e,"--").concat(o):e,h=i?"".concat(t,"--").concat(o):t,g=(0,u.useRef)(0);return(0,u.useLayoutEffect)((function(){var n,e=f.current,t=m.split(" "),r=function n(r){var i;r.target===f.current&&(p(),e.removeEventListener("animationend",n),e.removeEventListener("animationcancel",n),0===g.current&&"animationcancel"!==r.type&&(i=e.classList).remove.apply(i,(0,v.Z)(t)))};(n=e.classList).add.apply(n,(0,v.Z)(t)),e.addEventListener("animationend",r),e.addEventListener("animationcancel",r)}),[]),(0,u.useEffect)((function(){var n=f.current,e=function e(){n.removeEventListener("animationend",e),a?function(n,e,t){void 0===t&&(t=300);var r=n.scrollHeight,i=n.style;requestAnimationFrame((function(){i.minHeight="initial",i.height=r+"px",i.transition="all ".concat(t,"ms"),requestAnimationFrame((function(){i.height="0",i.padding="0",i.margin="0",setTimeout(e,t)}))}))}(n,l,s):l()};d||(c?e():(g.current=1,n.className+=" ".concat(h),n.addEventListener("animationend",e)))}),[d]),u.createElement(u.Fragment,null,r)}}var b=new Map,I=[],w=new Set,x=function(){return b.size>0};function O(n,e){var t;if(e)return!(null==(t=b.get(e))||!t.isToastActive(n));var r=!1;return b.forEach((function(e){e.isToastActive(n)&&(r=!0)})),r}function E(n,e){y(n)&&(x()||I.push({content:n,options:e}),b.forEach((function(t){t.buildToast(n,e)})))}function Z(n,e){b.forEach((function(t){null!=e&&null!=e&&e.containerId?(null==e?void 0:e.containerId)===t.id&&t.toggle(n,null==e?void 0:e.id):t.toggle(n,null==e?void 0:e.id)}))}var k=1,T=function(){return""+k++};function P(n){return n&&(h(n.toastId)||m(n.toastId))?n.toastId:T()}function J(n,e){return E(n,e),e.toastId}function L(n,e){return p(p({},e),{},{type:e&&e.type||n,toastId:P(e)})}function N(n){return function(e,t){return J(e,L(n,t))}}function C(n,e){return J(n,L("default",e))}C.loading=function(n,e){return J(n,L("default",p({isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1},e)))},C.promise=function(n,e,t){var r,i=e.pending,o=e.error,a=e.success;i&&(r=h(i)?C.loading(i,t):C.loading(i.render,p(p({},t),i)));var u={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},c=function(n,e,i){if(null!=e){var o=p(p(p({type:n},u),t),{},{data:i}),a=h(e)?{render:e}:e;return r?C.update(r,p(p({},o),a)):C(a.render,p(p({},o),a)),i}C.dismiss(r)},s=g(n)?n():n;return s.then((function(n){return c("success",a,n)})).catch((function(n){return c("error",o,n)})),s},C.success=N("success"),C.info=N("info"),C.error=N("error"),C.warning=N("warning"),C.warn=C.warning,C.dark=function(n,e){return J(n,L("default",p({theme:"dark"},e)))},C.dismiss=function(n){!function(n){var e;if(x()){if(null==n||h(e=n)||m(e))b.forEach((function(e){e.removeToast(n)}));else if(n&&("containerId"in n||"id"in n)){var t=b.get(n.containerId);t?t.removeToast(n.id):b.forEach((function(e){e.removeToast(n.id)}))}}else I=I.filter((function(e){return null!=n&&e.options.toastId!==n}))}(n)},C.clearWaitingQueue=function(n){void 0===n&&(n={}),b.forEach((function(e){!e.props.limit||n.containerId&&e.id!==n.containerId||e.clearQueue()}))},C.isActive=O,C.update=function(n,e){void 0===e&&(e={});var t=function(n,e){var t,r=e.containerId;return null==(t=b.get(r||1))?void 0:t.toasts.get(n)}(n,e);if(t){var r=t.props,i=t.content,o=p(p(p({delay:100},r),e),{},{toastId:e.toastId||n,updateId:T()});o.toastId!==n&&(o.staleId=n);var a=o.render||i;delete o.render,J(a,o)}},C.done=function(n){C.update(n,{progress:1})},C.onChange=function(n){return w.add(n),function(){w.delete(n)}},C.play=function(n){return Z(!0,n)},C.pause=function(n){return Z(!1,n)};"undefined"!=typeof window?u.useLayoutEffect:u.useEffect;var z=function(n,e){return void 0===e&&(e=!1),{enter:"Toastify--animate Toastify__".concat(n,"-enter"),exit:"Toastify--animate Toastify__".concat(n,"-exit"),appendPosition:e}};j(z("bounce",!0)),j(z("slide",!0)),j(z("zoom")),j(z("flip"));var D,Y,_,A=function(){var n=(0,r.Z)(a().mark((function n(e){var t,r,i;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.movieParams,n.prev=1,n.next=4,fetch("".concat("https://api.themoviedb.org/3/","search/movie?query=").concat(t,"&include_adult=false&language=en-US&page=1"),{headers:{Authorization:"Bearer ".concat("eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI4YzFjMjFjYjNkZTBmMzFmY2NlMmNjZTA0OWUyYzcwYyIsInN1YiI6IjY1NzQ5MGJjYmJlMWRkMDBjNDBjMDZjYiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.rk4ZGNCrWJDYlG9ojpZ-K-JQ1AKu7JU3Ol7o96eB5z8")}});case 4:if((r=n.sent).ok){n.next=7;break}throw new Error(r.statusText);case 7:return n.next=9,r.json();case 9:return i=n.sent,n.abrupt("return",i);case 13:n.prev=13,n.t0=n.catch(1),console.error(n.t0);case 16:case"end":return n.stop()}}),n,null,[[1,13]])})));return function(e){return n.apply(this,arguments)}}(),B=A,M=t(168),q=t(32),F=q.Z.div(D||(D=(0,M.Z)(["\n  padding-top: 33px;\n"]))),S=q.Z.li(Y||(Y=(0,M.Z)(["\n  margin-bottom: 5px;\n"]))),W=q.Z.ul(_||(_=(0,M.Z)(["\n  margin-top: 10px;\n"]))),Q=t(184),G=function(){var n,e=(0,u.useState)([]),t=(0,i.Z)(e,2),o=t[0],l=t[1],f=(0,c.lr)(),d=(0,i.Z)(f,2),p=d[0],v=d[1],m=null!==(n=p.get("query"))&&void 0!==n?n:"",h=(0,s.TH)();(0,u.useEffect)((function(){if(m)try{var n=function(){var n=(0,r.Z)(a().mark((function n(){var e,t;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,B({movieParams:m});case 2:e=n.sent,t=e.results,l(t);case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n()}catch(e){console.error(e)}}),[m,p]);return(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsx)(F,{children:(0,Q.jsxs)("form",{onSubmit:function(n){n.preventDefault();var e=n.target.elements.query.value.trim();""===e?C.info("\u0412\u044b \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u0432\u0432\u0435\u043b\u0438"):v({query:e})},children:[(0,Q.jsx)("input",{type:"text",name:"query",defaultValue:m,onChange:function(n){""===n.target.value&&v({})}}),(0,Q.jsx)("button",{type:"submit",children:"Search"})]})}),(0,Q.jsx)("div",{children:(0,Q.jsx)(W,{children:o.length>0&&o.map((function(n){var e=n.title,t=n.id;return(0,Q.jsx)(S,{children:(0,Q.jsx)(c.rU,{state:{from:h},to:"/movies/".concat(t),children:e},t)})}))})})]})}},861:function(n,e,t){function r(n,e,t,r,i,o,a){try{var u=n[o](a),c=u.value}catch(s){return void t(s)}u.done?e(c):Promise.resolve(c).then(r,i)}function i(n){return function(){var e=this,t=arguments;return new Promise((function(i,o){var a=n.apply(e,t);function u(n){r(a,i,o,u,c,"next",n)}function c(n){r(a,i,o,u,c,"throw",n)}u(void 0)}))}}t.d(e,{Z:function(){return i}})}}]);
//# sourceMappingURL=388.041704b3.chunk.js.map