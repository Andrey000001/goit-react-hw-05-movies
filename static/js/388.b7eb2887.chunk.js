"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[388],{388:function(n,e,t){t.r(e),t.d(e,{default:function(){return Q}});var r=t(861),i=t(439),o=t(687),a=t.n(o),u=t(791),c=t(87);var s=t(142);function l(n,e,t){return(e=(0,s.Z)(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function f(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}function d(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?f(Object(t),!0).forEach((function(e){l(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):f(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}var p=t(433),v=function(n){return"number"==typeof n&&!isNaN(n)},m=function(n){return"string"==typeof n},h=function(n){return"function"==typeof n},g=function(n){return(0,u.isValidElement)(n)||m(n)||h(n)||v(n)};function y(n){var e=n.enter,t=n.exit,r=n.appendPosition,i=void 0!==r&&r,o=n.collapse,a=void 0===o||o,c=n.collapseDuration,s=void 0===c?300:c;return function(n){var r=n.children,o=n.position,c=n.preventExitTransition,l=n.done,f=n.nodeRef,d=n.isIn,v=n.playToast,m=i?"".concat(e,"--").concat(o):e,h=i?"".concat(t,"--").concat(o):t,g=(0,u.useRef)(0);return(0,u.useLayoutEffect)((function(){var n,e=f.current,t=m.split(" "),r=function n(r){var i;r.target===f.current&&(v(),e.removeEventListener("animationend",n),e.removeEventListener("animationcancel",n),0===g.current&&"animationcancel"!==r.type&&(i=e.classList).remove.apply(i,(0,p.Z)(t)))};(n=e.classList).add.apply(n,(0,p.Z)(t)),e.addEventListener("animationend",r),e.addEventListener("animationcancel",r)}),[]),(0,u.useEffect)((function(){var n=f.current,e=function e(){n.removeEventListener("animationend",e),a?function(n,e,t){void 0===t&&(t=300);var r=n.scrollHeight,i=n.style;requestAnimationFrame((function(){i.minHeight="initial",i.height=r+"px",i.transition="all ".concat(t,"ms"),requestAnimationFrame((function(){i.height="0",i.padding="0",i.margin="0",setTimeout(e,t)}))}))}(n,l,s):l()};d||(c?e():(g.current=1,n.className+=" ".concat(h),n.addEventListener("animationend",e)))}),[d]),u.createElement(u.Fragment,null,r)}}var j=new Map,b=[],I=new Set,w=function(){return j.size>0};function x(n,e){var t;if(e)return!(null==(t=j.get(e))||!t.isToastActive(n));var r=!1;return j.forEach((function(e){e.isToastActive(n)&&(r=!0)})),r}function O(n,e){g(n)&&(w()||b.push({content:n,options:e}),j.forEach((function(t){t.buildToast(n,e)})))}function E(n,e){j.forEach((function(t){null!=e&&null!=e&&e.containerId?(null==e?void 0:e.containerId)===t.id&&t.toggle(n,null==e?void 0:e.id):t.toggle(n,null==e?void 0:e.id)}))}var Z=1,k=function(){return""+Z++};function T(n){return n&&(m(n.toastId)||v(n.toastId))?n.toastId:k()}function P(n,e){return O(n,e),e.toastId}function J(n,e){return d(d({},e),{},{type:e&&e.type||n,toastId:T(e)})}function L(n){return function(e,t){return P(e,J(n,t))}}function N(n,e){return P(n,J("default",e))}N.loading=function(n,e){return P(n,J("default",d({isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1},e)))},N.promise=function(n,e,t){var r,i=e.pending,o=e.error,a=e.success;i&&(r=m(i)?N.loading(i,t):N.loading(i.render,d(d({},t),i)));var u={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},c=function(n,e,i){if(null!=e){var o=d(d(d({type:n},u),t),{},{data:i}),a=m(e)?{render:e}:e;return r?N.update(r,d(d({},o),a)):N(a.render,d(d({},o),a)),i}N.dismiss(r)},s=h(n)?n():n;return s.then((function(n){return c("success",a,n)})).catch((function(n){return c("error",o,n)})),s},N.success=L("success"),N.info=L("info"),N.error=L("error"),N.warning=L("warning"),N.warn=N.warning,N.dark=function(n,e){return P(n,J("default",d({theme:"dark"},e)))},N.dismiss=function(n){!function(n){var e;if(w()){if(null==n||m(e=n)||v(e))j.forEach((function(e){e.removeToast(n)}));else if(n&&("containerId"in n||"id"in n)){var t=j.get(n.containerId);t?t.removeToast(n.id):j.forEach((function(e){e.removeToast(n.id)}))}}else b=b.filter((function(e){return null!=n&&e.options.toastId!==n}))}(n)},N.clearWaitingQueue=function(n){void 0===n&&(n={}),j.forEach((function(e){!e.props.limit||n.containerId&&e.id!==n.containerId||e.clearQueue()}))},N.isActive=x,N.update=function(n,e){void 0===e&&(e={});var t=function(n,e){var t,r=e.containerId;return null==(t=j.get(r||1))?void 0:t.toasts.get(n)}(n,e);if(t){var r=t.props,i=t.content,o=d(d(d({delay:100},r),e),{},{toastId:e.toastId||n,updateId:k()});o.toastId!==n&&(o.staleId=n);var a=o.render||i;delete o.render,P(a,o)}},N.done=function(n){N.update(n,{progress:1})},N.onChange=function(n){return I.add(n),function(){I.delete(n)}},N.play=function(n){return E(!0,n)},N.pause=function(n){return E(!1,n)};"undefined"!=typeof window?u.useLayoutEffect:u.useEffect;var C=function(n,e){return void 0===e&&(e=!1),{enter:"Toastify--animate Toastify__".concat(n,"-enter"),exit:"Toastify--animate Toastify__".concat(n,"-exit"),appendPosition:e}};y(C("bounce",!0)),y(C("slide",!0)),y(C("zoom")),y(C("flip"));var z,D,Y,_=function(){var n=(0,r.Z)(a().mark((function n(e){var t,r,i;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.movieParams,n.prev=1,n.next=4,fetch("".concat("https://api.themoviedb.org/3/","search/movie?query=").concat(t,"&include_adult=false&language=en-US&page=1"),{headers:{Authorization:"Bearer ".concat("eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI4YzFjMjFjYjNkZTBmMzFmY2NlMmNjZTA0OWUyYzcwYyIsInN1YiI6IjY1NzQ5MGJjYmJlMWRkMDBjNDBjMDZjYiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.rk4ZGNCrWJDYlG9ojpZ-K-JQ1AKu7JU3Ol7o96eB5z8")}});case 4:if((r=n.sent).ok){n.next=7;break}throw new Error(r.statusText);case 7:return n.next=9,r.json();case 9:return i=n.sent,n.abrupt("return",i);case 13:n.prev=13,n.t0=n.catch(1),console.error(n.t0);case 16:case"end":return n.stop()}}),n,null,[[1,13]])})));return function(e){return n.apply(this,arguments)}}(),A=_,B=t(168),M=t(32),q=M.Z.div(z||(z=(0,B.Z)(["\n  padding-top: 33px;\n"]))),F=M.Z.li(D||(D=(0,B.Z)(["\n  margin-bottom: 5px;\n"]))),S=M.Z.ul(Y||(Y=(0,B.Z)(["\n  margin-top: 10px;\n"]))),W=t(184),Q=function(){var n,e=(0,u.useState)([]),t=(0,i.Z)(e,2),o=t[0],s=t[1],l=(0,c.lr)(),f=(0,i.Z)(l,2),d=f[0],p=f[1],v=null!==(n=d.get("quary"))&&void 0!==n?n:"";(0,u.useEffect)((function(){if(v)try{var n=function(){var n=(0,r.Z)(a().mark((function n(){var e,t;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,A({movieParams:v});case 2:e=n.sent,t=e.results,s(t);case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n()}catch(e){console.error(e)}}),[v,d]);return(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)(q,{children:(0,W.jsxs)("form",{onSubmit:function(n){n.preventDefault();var e=n.target.elements.query.value.trim();""===e?N.info("\u0412\u044b \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u0432\u0432\u0435\u043b\u0438"):p({quary:e})},children:[(0,W.jsx)("input",{type:"text",name:"query",defaultValue:v,onChange:function(n){""===n.target.value&&p({})}}),(0,W.jsx)("button",{type:"submit",children:"Search"})]})}),(0,W.jsx)("div",{children:(0,W.jsx)(S,{children:o.length>0&&o.map((function(n){var e=n.title,t=n.id;return(0,W.jsx)(F,{children:(0,W.jsx)(c.rU,{to:"/movies/".concat(t),children:e},t)})}))})})]})}},861:function(n,e,t){function r(n,e,t,r,i,o,a){try{var u=n[o](a),c=u.value}catch(s){return void t(s)}u.done?e(c):Promise.resolve(c).then(r,i)}function i(n){return function(){var e=this,t=arguments;return new Promise((function(i,o){var a=n.apply(e,t);function u(n){r(a,i,o,u,c,"next",n)}function c(n){r(a,i,o,u,c,"throw",n)}u(void 0)}))}}t.d(e,{Z:function(){return i}})}}]);
//# sourceMappingURL=388.b7eb2887.chunk.js.map