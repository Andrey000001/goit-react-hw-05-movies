{"version":3,"file":"static/js/388.041704b3.chunk.js","mappings":"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","sources":["../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/@babel/runtime/helpers/esm/objectSpread2.js","services/serchMovies.js","pages/Movies/Movies.styled.js","pages/Movies/Movies.jsx","../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"],"sourcesContent":["import toPropertyKey from \"./toPropertyKey.js\";\nexport default function _defineProperty(obj, key, value) {\n  key = toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}","import defineProperty from \"./defineProperty.js\";\nfunction ownKeys(e, r) {\n  var t = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n  return t;\n}\nexport default function _objectSpread2(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {\n      defineProperty(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n  return e;\n}","const API_KEY =\n  'eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI4YzFjMjFjYjNkZTBmMzFmY2NlMmNjZTA0OWUyYzcwYyIsInN1YiI6IjY1NzQ5MGJjYmJlMWRkMDBjNDBjMDZjYiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.rk4ZGNCrWJDYlG9ojpZ-K-JQ1AKu7JU3Ol7o96eB5z8';\nconst BASE_URL = 'https://api.themoviedb.org/3/';\n\nconst searchMovies = async ({ movieParams }) => {\n  try {\n    const response = await fetch(\n      `${BASE_URL}search/movie?query=${movieParams}&include_adult=false&language=en-US&page=1`,\n      {\n        headers: {\n          Authorization: `Bearer ${API_KEY}`,\n        },\n      }\n    );\n    if (!response.ok) {\n      throw new Error(response.statusText);\n    }\n    const data = await response.json();\n    return data;\n  } catch (error) {\n    console.error(error);\n  }\n};\nexport default searchMovies;\n","import styled from '@emotion/styled';\n\nexport const Content = styled.div`\n  padding-top: 33px;\n`;\nexport const Item = styled.li`\n  margin-bottom: 5px;\n`;\nexport const List = styled.ul`\n  margin-top: 10px;\n`;\n","import { useEffect, useState } from 'react';\nimport { Link, useLocation, useSearchParams } from 'react-router-dom';\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport searchMovies from 'services/serchMovies';\nimport { Content, List, Item } from './Movies.styled';\nconst Movies = () => {\n  const [data, setData] = useState([]);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const movieParams = searchParams.get('query') ?? '';\n  const location = useLocation();\n  useEffect(() => {\n    if (!movieParams) return;\n    try {\n      async function fetchMovies() {\n        const { results } = await searchMovies({ movieParams });\n        setData(results);\n      }\n      fetchMovies();\n    } catch (error) {\n      console.error(error);\n    }\n  }, [movieParams, searchParams]);\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    const valueMovie = e.target.elements.query.value.trim();\n    if (valueMovie === '') {\n      toast.info('Вы ничего не ввели');\n    } else {\n      setSearchParams({ query: valueMovie });\n    }\n  };\n  const hanldeChange = e => {\n    if (e.target.value === '') {\n      setSearchParams({});\n    }\n  };\n  return (\n    <>\n      <Content>\n        <form onSubmit={handleSubmit}>\n          <input\n            type=\"text\"\n            name=\"query\"\n            defaultValue={movieParams}\n            onChange={hanldeChange}\n          />\n          <button type=\"submit\">Search</button>\n        </form>\n      </Content>\n      <div>\n        <List>\n          {data.length > 0 &&\n            data.map(({ title, id }) => (\n              <Item>\n                <Link key={id} state={{ from: location }} to={`/movies/${id}`}>\n                  {title}\n                </Link>\n              </Item>\n            ))}\n        </List>\n      </div>\n    </>\n  );\n};\n\nexport default Movies;\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n      args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n      _next(undefined);\n    });\n  };\n}"],"names":["obj","key","value","toPropertyKey","Object","defineProperty","enumerable","configurable","writable","ownKeys","e","r","t","keys","getOwnPropertySymbols","o","filter","getOwnPropertyDescriptor","push","apply","_objectSpread2","arguments","length","forEach","getOwnPropertyDescriptors","defineProperties","searchMovies","_ref2","_asyncToGenerator","_regeneratorRuntime","_callee","_ref","movieParams","response","data","_context","prev","next","fetch","concat","headers","Authorization","sent","ok","Error","statusText","json","abrupt","t0","console","error","stop","_x","Content","styled","_templateObject","_taggedTemplateLiteral","Item","_templateObject2","List","_templateObject3","_searchParams$get","_useState","useState","_useState2","_slicedToArray","setData","_useSearchParams","useSearchParams","_useSearchParams2","searchParams","setSearchParams","get","location","useLocation","useEffect","fetchMovies","_yield$searchMovies","results","_jsxs","_Fragment","children","_jsx","onSubmit","preventDefault","valueMovie","target","elements","query","trim","toast","type","name","defaultValue","onChange","map","title","id","Link","state","from","to","asyncGeneratorStep","gen","resolve","reject","_next","_throw","arg","info","done","Promise","then","fn","self","this","args","err","undefined"],"sourceRoot":""}